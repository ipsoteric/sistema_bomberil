/* =================================================================
ESTILOS DE MODO OSCURO
=================================================================
*/

/* 1. Corrige los Paneles (.card) */
.dark-mode .card {
    background-color: #1a1d21;
    border-color: #2d3238;
    color: #e6edf3; /* Color de texto base */
}

/* 1.1. Corrige bordes de header/footer de card */
.dark-mode .card-header,
.dark-mode .card-footer {
    border-color: #2d3238;
}

/* 2. Corrige fondos claros forzados (como el panel de filtro) */
.dark-mode .card-body.bg-light {
    background-color: #1a1d21 !important;
}

/* 3. Corrige los Formularios */
.dark-mode .form-control,
.dark-mode .form-select {
    background-color: #111318;
    border-color: #2b3136;
    color: #e6edf3;
}

.dark-mode .form-control:focus,
.dark-mode .form-select:focus {
    /* Mantenemos el color de foco de tu ejemplo de proveedor (azul) */
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

.dark-mode .form-control:disabled,
.dark-mode .form-select:disabled {
    background-color: #1c1f24;
    color: #8b949e;
}

/* 3.1 Corrige Checkbox */
.dark-mode .form-check-input {
    background-color: #111318;
    border-color: #2b3136;
}
.dark-mode .form-check-input:checked {
    background-color: #0d6efd;
    border-color: #0d6efd;
}

/* 4. Corrige Tablas (.table) */
.dark-mode .table {
    color: #e6edf3;
    border-color: #2d3238;
    background-color: transparent; /* Quita fondo blanco */
}
/* Selector de BS para celdas (th, td) */
.dark-mode .table > :not(caption) > * > * {
    background-color: transparent;
    border-color: #2d3238;
    color: inherit; /* Hereda el color de la tabla */
}
.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255, 255, 255, 0.03); 
}
.dark-mode .table-hover tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.05);
}

/* 5. Corrige Grupos de Listas (.list-group) -- CORREGIDO */
.dark-mode .list-group-item {
    background-color: #1a1d21; 
    border-color: #2d3238; 
    color: inherit; /* Hereda el color del .card */
}

/* 6. Corrige Modales (.modal) */
.dark-mode .modal-content {
    background-color: #1a1d21;
    border-color: #2d3238;
}
.dark-mode .modal-header {
    border-bottom-color: var(--color-borde);
}
.dark-mode .modal-footer {
    border-top-color: var(--color-borde);
}
.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* 7. Corrige Alertas (.alert) */
.dark-mode .alert-warning {
    color: #ffd970;
    background-color: #332701;
    border-color: #856404;
}
.dark-mode .alert-danger {
    color: #ea868f;
    background-color: #2c0b0e;
    border-color: #842029;
}
.dark-mode .alert-link {
    color: #FFFFFF; /* O un color de enlace más brillante */
    font-weight: bold;
}

/* 8. Corrige Badges de colores (.badge) */
.dark-mode .badge.bg-warning {
    color: #ffd970;
    background-color: #332701;
    border: 1px solid #856404;
}
.dark-mode .badge.bg-info {
    color: #7beaff;
    background-color: #0c2e3b;
    border: 1px solid #1a5870;
}
.dark-mode .badge.bg-success {
    color: #8aff8a;
    background-color: #0a3d0a;
    border: 1px solid #1a741a;
}
.dark-mode .badge.bg-secondary {
    color: #c0c0c0;
    background-color: #303030;
    border: 1px solid #505050;
}
.dark-mode .badge.bg-danger {
    color: #ea868f;
    background-color: #2c0b0e;
    border: 1px solid #842029;
}


/* 9. Corrige Paginación (.pagination) */
.dark-mode .page-link {
    background-color: #1a1d21;
    border-color: #2d3238;
    color: #0d6efd; 
}
.dark-mode .page-item.disabled .page-link {
    color: #6c757d;
    background-color: #1c1f24;
    border-color: #2d3238;
}
.dark-mode .page-item.active .page-link {
    background-color: #0d6efd;
    border-color: #0d6efd;
    color: #FFFFFF;
}
.dark-mode .page-link:hover {
    background-color: #1c1f24;
    color: #3d8bfd;
}

/* 10. Corrige Botones Secundarios y Outline */
.dark-mode .btn-outline-primary {
    color: #0d6efd;
    border-color: #0d6efd;
}
.dark-mode .btn-outline-primary:hover {
    background-color: #0d6efd;
    color: #FFFFFF;
}
.dark-mode .btn-secondary {
    background-color: #4a5056;
    border-color: #4a5056;
    color: #FFFFFF;
}
.dark-mode .btn-secondary:hover {
    background-color: #5a6066;
    border-color: #5a6066;
}

/* 11. Corrige Spinners (.spinner-border) */
.dark-mode .spinner-border {
    border-right-color: transparent;
}
.dark-mode .spinner-border.text-primary {
    border-right-color: transparent;
}

/* 12. Corrige Placeholders y fondos .bg-light */
.dark-mode .bg-light {
    background-color: #1a1d21 !important; 
}

.dark-mode ::-webkit-input-placeholder { /* Chrome/Opera/Safari */
  color: #555 !important;
}
.dark-mode ::-moz-placeholder { /* Firefox 19+ */
  color: #555 !important;
}
.dark-mode :-ms-input-placeholder { /* IE 10+ */
  color: #555 !important;
}
.dark-mode :-moz-placeholder { /* Firefox 18- */
  color: #555 !important;
}

/* 13. (NUEVA REGLA) Corrige .text-muted */
.dark-mode .text-muted {
    color: #8b949e !important; /* Un gris claro legible */
}

.dark-mode .text-body-secondary {
    color: #8b949e !important; /* Un gris claro legible */
}

.dark-mode .ts-control, .ts-wrapper.single.input-active .ts-control {
    background-color: var(--secondary-color);
}