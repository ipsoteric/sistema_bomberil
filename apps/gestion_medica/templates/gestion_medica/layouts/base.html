{# PLANTILLA BASE MÓDULO MÉDICO (ESTANDARIZADA) #}
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    {# 1. Importación de Estilos Globales #}
    {% include 'layouts/estilos.html' %}
    
    {# 2. Estilos específicos del módulo (tarjetas, etc.) #}
    <link rel="stylesheet" href="{% static 'gestion_medica/css/formularios_medica.css' %}">
    <link rel="stylesheet" href="{% static 'gestion_medica/css/temas_medico.css' %}"> 
    <link rel="stylesheet" href="{% static 'gestion_medica/css/home_medico.css' %}">

    <title>{% block titulo_ventana %}Gestión Médica{% endblock %}</title>
</head>
<body class="{% if request.session.dark_mode|default:False %}dark-mode{% endif %}">
    
    {# Contenedor Principal #}
    <div id="root">

        {# A. HEADER SUPERIOR (Donde sale el logo y el usuario) #}
        {# Al incluir esto, aparecerá el usuario a la derecha automáticamente #}
        {% include "layouts/header.html" %}

        {# B. MENÚ DESPLEGABLE DE USUARIO #}
        {# Este es el componente flotante que no te salía #}
        {% include "layouts/menu_desplegable_usuario.html" %}
        
        {# C. BARRA LATERAL IZQUIERDA #}
        {% include "gestion_medica/layouts/barra_lateral.html" %}

        {# D. CONTENIDO PRINCIPAL (Fondo gris y márgenes correctos) #}
        <main class="main fondo_main">
            
            <h1 class="main__titulo_pagina fs_grande color_primario">
                {% block titulo_pagina %}{% endblock %}
            </h1>

            {% include "layouts/flash.html" %}
            
            {% block contenido %} {% endblock %}
        </main>

        {# Scripts Globales #}
        {% include 'layouts/scripts.html' %}
        
        {# Script para que funcione el menú desplegable de la barra lateral #}
        <script src="{% static 'js/nav.js' %}"></script>

    </div>
</body>
</html>